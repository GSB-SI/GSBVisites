<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Mes rapports de visites</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-searchbar
    show-clear-button="always"
    [debounce]="1000"
    (ionInput)="filtrerParDate($event)"
    (ionClear)="effacerSelection()"
    [(ngModel)]="filtreDate"
    placeholder="Recherche par date"
  >
  </ion-searchbar>
  <ion-searchbar
    show-clear-button="always"
    [debounce]="1000"
    (ionInput)="filtrerParNom($event)"
    (ionClear)="effacerSelection()"
    [(ngModel)]="filtreNom"
    placeholder="Recherche par nom"
  >
  </ion-searchbar>

  <ion-list lines="full">
    <ion-item
      button
      *ngFor="let rapport of rapportsFiltres"
      detail="true"
      [routerLink]="['/detail-rapport', rapport._id]"
    >
      <ion-label>
        <h3 class="ion-text-wrap">
          {{ rapport.date }} - {{ rapport.doctorName }}
        </h3>
        <p class="ion-text-wrap">{{ rapport.reason }}</p>
        <br/>
        <i class="ion-text-wrap">{{ rapport.summary }}</i>
      </ion-label>
    </ion-item>
  </ion-list>
</ion-content>
